create database schoolmanagement;
use schoolmanagement;
create table designationtable( 
		pk_stf_designationid varchar(100) primary key,
		stf_designation varchar(100) unique not null,
		stf_department varchar(50)
		);

create table stafftable(
	     pk_stf_id varchar(8) primary key ,
		stf_fullname varchar(255) not null,
		stf_dob date,
		stf_gender varchar(10),
		stf_photo varchar(255),
		stf_aadhar varchar(14) unique,
		stf_joiningdate date,
		stf_mobileno varchar(15),
		stf_email varchar(255) not null,
	     fk_stf_designationid varchar(100) ,
		stf_status varchar(100),
		stf_password varchar(10),
		country varchar(100),
		state varchar(100),
		district varchar(100),
		city varchar(50),
		pincode int not null,    
		stf_localaddress text,
		FOREIGN KEY (fk_stf_designationid) REFERENCES designationtable(pk_stf_designationid)
		
		);
create table qualificationtable(
	     pk_stf_qualificationid int auto_increment primary key,
		stf_highestqualification varchar(100),
		stf_specialisation varchar(100),
		stf_certification varchar(100),
		stf_experienceyear int,
		fk_stf_id varchar(8),
		FOREIGN KEY (fk_stf_id) REFERENCES stafftable(pk_stf_id)
		);
create table salarytable(
	pk_stf_salaryid int primary key auto_increment,
	fk_stf_id varchar(8),
	stf_salaryamount decimal(10,2),
	stf_bankaccountno bigint unique,
	stf_ifsc varchar(11),
	stf_pan varchar(12) unique,
	stf_salarytype varchar(100),
	FOREIGN KEY (fk_stf_id) REFERENCES stafftable(pk_stf_id)
	);
CREATE TABLE studentData (
 pk_std_abcid BIGINT PRIMARY KEY,
    std_firstname VARCHAR(50),
    std_middlename VARCHAR(50),
    std_lastname VARCHAR(50),
    std_motherName VARCHAR(50),
    std_gender CHAR(1),
    std_DOB DATE,
    std_mobile VARCHAR(15),
    std_parentMobile VARCHAR(15),
    std_email VARCHAR(100),
    std_aadharno VARCHAR(14) unique,
    std_photo VARCHAR(255),
    std_localaddress TEXT,
    std_religion VARCHAR(50),
    std_category VARCHAR(50),
    std_cast VARCHAR(50),
    std_mothertongue VARCHAR(50),
	country varchar(100),
	state varchar(100),
	district varchar(100),
	city varchar(50),
	pincode int not null
	
);

CREATE TABLE studentAcademicData (
 pk_academicid INT AUTO_INCREMENT PRIMARY KEY,
 fk_std_abcid BIGINT,
    passingyear YEAR,
    class VARCHAR(20),
    oldmarks DECIMAL(5,2),
    schoolname VARCHAR(100),
    currentyear YEAR,
    currentclass VARCHAR(20),
    division VARCHAR(10),
    rollno INT,
    regdate DATE,
    currentschoolname VARCHAR(100),
    FOREIGN KEY (fk_std_abcid) REFERENCES studentData(pk_std_abcid)
);

CREATE TABLE documentsSubmitted (
    pk_docid INT AUTO_INCREMENT PRIMARY KEY,
    fk_academicid INT,
    tc varchar(50) DEFAULT NULL,
    aadharcard varchar(50) DEFAULT NULL,
    oldmarksheet varchar(50) DEFAULT NULL,
    submission_date DATE,
    FOREIGN KEY (fk_academicid) REFERENCES studentAcademicData(pk_academicid)
);

CREATE TABLE feesTable (
    feeid INT AUTO_INCREMENT PRIMARY KEY,
    fk_academicid INT,
    total_fees DECIMAL(10,2),
    paid DECIMAL(10,2),
    due DECIMAL(10,2),
    remarkdue TEXT,
    payment_status VARCHAR(20) DEFAULT 'Pending',
    FOREIGN KEY (fk_academicid) REFERENCES studentAcademicData(pk_academicid)
);

CREATE TABLE marks (
    markid INT AUTO_INCREMENT PRIMARY KEY,
    fk_academicid INT,
    stdid VARCHAR(20),
    totalmark INT,
    obtainedmark INT,
    math INT,
    science INT,
    english INT,
    history INT,
    geography INT,
    marathi INT,
    hindi INT,
    exam_date DATE,
    FOREIGN KEY (fk_academicid) REFERENCES studentAcademicData(pk_academicid)
);


